var searchFunc=function(t,e,r){$.ajax({url:t,dataType:"xml",success:function(t){var n=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("link",this).attr("href")}}).get(),i=document.getElementById(e);if(i){var a=document.getElementById(r);i.addEventListener("input",function(){var t='<ul class="search-result-list">',e=this.value.trim().toLowerCase().split(/[\s\-]+/);a.innerHTML="",this.value.trim().length<=0||(n.forEach(function(r){var n=!0;r.title&&""!==r.title.trim()||(r.title="Untitled");var i=r.title.trim().toLowerCase(),a=r.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),l=r.url,s=-1,c=-1,u=-1;if(""!==a?e.forEach(function(t,e){s=i.indexOf(t),c=a.indexOf(t),s<0&&c<0?n=!1:(c<0&&(c=0),0==e&&(u=c))}):n=!1,n){t+="<li><a href='"+l+"' class='search-result-title'>"+i+"</a>";var o=r.content.trim().replace(/<[^>]+>/g,"");if(u>=0){var h=u-20,f=u+80;h<0&&(h=0),0==h&&(f=100),f>o.length&&(f=o.length);var m=o.substr(h,f);e.forEach(function(t){var e=new RegExp(t,"gi");m=m.replace(e,'<em class="search-keyword">'+t+"</em>")}),t+='<p class="search-result">'+m+"...</p>"}t+="</li>"}}),t+="</ul>",a.innerHTML=t)})}}})};